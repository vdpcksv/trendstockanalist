<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AlphaFinder - AI ê¸°ë°˜ ì£¼ì‹ ë¶„ì„ í”Œë«í¼{% endblock %}</title>

    <!-- Phase 4: SEO Meta Tags -->
    <meta name="description"
        content="{% block meta_description %}AlphaFinderëŠ” AIê°€ ë¶„ì„í•˜ëŠ” ì‹¤ì‹œê°„ ì£¼ì‹ íŠ¸ë Œë“œ, ë‰´ìŠ¤ ê°ì„± ë¶„ì„, ì»¤ë®¤ë‹ˆí‹° íˆ¬í‘œ, ëª¨ì˜íˆ¬ì ë­í‚¹ì„ ì œê³µí•˜ëŠ” í”„ë¦¬ë¯¸ì—„ íˆ¬ì í”Œë«í¼ì…ë‹ˆë‹¤.{% endblock %}">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="{% block canonical %}https://alphafinder.kr{% endblock %}">

    <!-- Open Graph (ì¹´ì¹´ì˜¤í†¡, í˜ì´ìŠ¤ë¶) -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="AlphaFinder">
    <meta property="og:title" content="{% block og_title %}AlphaFinder - AI ì£¼ì‹ ë¶„ì„{% endblock %}">
    <meta property="og:description" content="{% block og_description %}AIê°€ ë¶„ì„í•˜ëŠ” ì‹¤ì‹œê°„ ì£¼ì‹ íŠ¸ë Œë“œì™€ ì»¤ë®¤ë‹ˆí‹° íˆ¬ì ì˜ê²¬{% endblock %}">
    <meta property="og:image" content="{% block og_image %}https://alphafinder.kr/static/og-default.png{% endblock %}">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}AlphaFinder{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}AI ê¸°ë°˜ ì£¼ì‹ ë¶„ì„ í”Œë«í¼{% endblock %}">

    <!-- âœ… Google AdSense Verification Code (Hardcoded here for SEO Bot Crawlability) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9065075656013134"
        crossorigin="anonymous"></script>

    <!-- Tailwind CSS (CDN for Premium Aesthetic) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Plotly JS (To replace Streamlit charts) -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Google Fonts: Inter for readibility, Montserrat for premium headings -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0B1021 0%, #17203B 50%, #0B1021 100%);
            background-attachment: fixed;
            color: #cbd5e1;
            /* slate-300 */
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        .outfit-font {
            font-family: 'Montserrat', sans-serif;
            letter-spacing: -0.025em;
        }

        /* Glassmorphism utility - Dark Theme */
        .glass-nav {
            background: rgba(11, 16, 33, 0.65);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .glass-nav a {
            color: #94a3b8;
            /* slate-400 */
        }

        .glass-nav a:hover {
            color: #818cf8;
            /* indigo-400 */
            background: rgba(129, 140, 248, 0.1);
        }

        /* Glass Card Utility */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
        }

        /* Custom Animations */
        .hover-lift {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2);
        }

        /* Loading Screen Animations */
        @keyframes rainCoins {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .coin {
            position: absolute;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, #fbbf24 0%, #d97706 80%, #b45309 100%);
            border-radius: 50%;
            border: 2px solid #fcd34d;
            box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.5), 0 5px 10px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #78350f;
            font-size: 14px;
            z-index: 9998;
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>

<body class="text-slate-300 overflow-x-hidden min-h-screen flex flex-col selection:bg-indigo-500/30">

    <!-- Global Loading Screen -->
    <div id="global-loader"
        class="fixed inset-0 bg-[#0B1021] z-[9999] flex flex-col items-center justify-center transition-opacity duration-500">
        <!-- Coin Rain Container -->
        <div id="coin-rain-container" class="absolute inset-0 overflow-hidden pointer-events-none"></div>

        <!-- Piggy Bank Image -->
        <div class="relative z-10 w-64 h-64 md:w-80 md:h-80 drop-shadow-[0_0_30px_rgba(236,72,153,0.3)] mb-8 animate-bounce"
            style="animation-duration: 2s;">
            <img src="/static/img/loading_piggy.png" alt="Loading Piggy Bank"
                class="w-full h-full object-contain filter drop-shadow-2xl rounded-full">
            <div
                class="absolute inset-0 rounded-full border border-pink-500/30 bg-pink-500/10 backdrop-blur-sm -z-10 mix-blend-overlay">
            </div>
        </div>

        <h2 class="text-3xl font-extrabold text-white outfit-font tracking-tight drop-shadow-md relative z-10">ë°ì´í„°ë¥¼ ë¶„ì„
            ì¤‘ì…ë‹ˆë‹¤...</h2>
        <p class="text-indigo-300 font-medium mt-3 relative z-10 flex items-center gap-2">
            <svg class="animate-spin -ml-1 mr-2 h-5 w-5 text-pink-400" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor"
                    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                </path>
            </svg>
            ìŠ¤ë§ˆíŠ¸ ë¨¸ë‹ˆë¥¼ ì«“ëŠ” ì¤‘ ğŸ’¸
        </p>
    </div>

    <!-- Premium Navigation Bar (Compact + Hamburger) -->
    <nav class="glass-nav shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center gap-2">
                    <a href="/"
                        class="font-extrabold text-2xl tracking-tight text-white outfit-font drop-shadow-md no-underline">ğŸ“‰
                        Alpha<span class="text-indigo-400">Finder</span></a>
                </div>

                <!-- Desktop: Main Links (3 core pages only) -->
                <div class="hidden md:flex items-center space-x-1 ml-8">
                    <a href="/" class="px-3 py-2 rounded-lg font-semibold transition-colors duration-200 text-sm">ğŸ’° ìê¸ˆ
                        íë¦„</a>
                    <a href="/review"
                        class="px-3 py-2 rounded-lg font-semibold transition-colors duration-200 text-sm">ğŸ¤– AI ë§¤ë§¤
                        ë³µê¸°</a>
                    <a href="/leaderboard"
                        class="px-3 py-2 rounded-lg font-semibold transition-colors duration-200 text-sm">ğŸ† ë­í‚¹</a>

                    <!-- More dropdown -->
                    <div class="relative" id="more-dropdown-wrapper">
                        <button onclick="toggleMoreMenu()"
                            class="px-3 py-2 rounded-lg font-semibold transition-colors duration-200 text-sm text-slate-400 hover:text-indigo-400 hover:bg-indigo-500/10 flex items-center gap-1">
                            ë”ë³´ê¸°
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div id="more-dropdown"
                            class="hidden absolute right-0 mt-2 w-48 rounded-xl shadow-2xl border border-white/10 overflow-hidden z-50"
                            style="background: rgba(15, 23, 50, 0.95); backdrop-filter: blur(20px);">
                            <a href="/seasonality"
                                class="block px-4 py-3 text-sm font-medium text-slate-300 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ—“ï¸
                                ê³„ì ˆì„± íŠ¸ë Œë“œ</a>
                            <a href="/themes"
                                class="block px-4 py-3 text-sm font-medium text-slate-300 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ¯
                                í…Œë§ˆ ë¶„ì„</a>
                            <a href="/portfolio" id="nav-portfolio"
                                class="hidden px-4 py-3 text-sm font-medium text-slate-300 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ’¼
                                ë‚´ ìì‚°</a>
                            <div class="border-t border-white/5"></div>
                            <a href="/policies"
                                class="block px-4 py-3 text-sm font-medium text-slate-400 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ“œ
                                í•„ìˆ˜ ì •ì±…</a>
                        </div>
                    </div>
                </div>

                <!-- Right: Auth + Mobile Menu Button -->
                <div class="flex items-center space-x-3">
                    <span id="user-greeting" class="text-sm font-semibold text-indigo-300 hidden"></span>
                    <button id="btn-login" onclick="openAuthModal()"
                        class="bg-indigo-600/90 backdrop-blur-sm border border-indigo-500/50 text-white px-5 py-2 rounded-full font-bold text-sm hover:bg-indigo-500 hover:shadow-[0_0_15px_rgba(99,102,241,0.5)] transition-all duration-300">
                        ë¡œê·¸ì¸
                    </button>
                    <button id="btn-logout" onclick="logout()"
                        class="hidden bg-slate-800/80 backdrop-blur-sm text-slate-300 px-5 py-2 rounded-full font-bold text-sm hover:text-rose-400 hover:bg-rose-500/10 border border-slate-700 hover:border-rose-500/30 transition-all duration-300">
                        ë¡œê·¸ì•„ì›ƒ
                    </button>

                    <!-- Hamburger (Mobile) -->
                    <button onclick="toggleMobileMenu()"
                        class="md:hidden p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu (Hidden by default) -->
            <div id="mobile-menu" class="hidden md:hidden pb-4 border-t border-white/5 mt-2 pt-3 space-y-1">
                <a href="/"
                    class="block px-4 py-2.5 rounded-lg font-semibold text-sm text-slate-300 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ’°
                    ìê¸ˆ íë¦„</a>
                <a href="/review"
                    class="block px-4 py-2.5 rounded-lg font-semibold text-sm text-slate-300 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ¤–
                    AI ë§¤ë§¤ ë³µê¸°</a>
                <a href="/leaderboard"
                    class="block px-4 py-2.5 rounded-lg font-semibold text-sm text-slate-300 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ†
                    ëª¨ì˜ ë­í‚¹</a>
                <a href="/seasonality"
                    class="block px-4 py-2.5 rounded-lg font-semibold text-sm text-slate-300 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ—“ï¸
                    ê³„ì ˆì„± íŠ¸ë Œë“œ</a>
                <a href="/themes"
                    class="block px-4 py-2.5 rounded-lg font-semibold text-sm text-slate-300 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ¯
                    í…Œë§ˆ ë¶„ì„</a>
                <a href="/portfolio" id="nav-portfolio-mobile"
                    class="hidden px-4 py-2.5 rounded-lg font-semibold text-sm text-slate-300 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ’¼
                    ë‚´ ìì‚°</a>
                <div class="border-t border-white/5 my-2"></div>
                <a href="/policies"
                    class="block px-4 py-2.5 rounded-lg font-semibold text-sm text-slate-400 hover:bg-indigo-500/10 hover:text-indigo-300 transition-colors">ğŸ“œ
                    í•„ìˆ˜ ì •ì±…</a>
            </div>
        </div>
    </nav>

    <script>
        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }
        function toggleMoreMenu() {
            const dd = document.getElementById('more-dropdown');
            dd.classList.toggle('hidden');
        }
        // Close dropdown when clicking outside
        document.addEventListener('click', function (e) {
            const wrapper = document.getElementById('more-dropdown-wrapper');
            if (wrapper && !wrapper.contains(e.target)) {
                document.getElementById('more-dropdown').classList.add('hidden');
            }
        });
    </script>


    <!-- Main Content Injection Zone -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 w-full flex-grow flex flex-col">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-[#0B1021]/80 backdrop-blur-md border-t border-white/10 mt-auto py-8 text-center text-slate-400">
        <p class="text-sm font-medium text-slate-300">Â© 2026 AlphaFinder Executive Terminal. All rights reserved.</p>
        <p class="text-xs text-slate-500 mt-2">ë³¸ ì •ë³´ëŠ” í€€íŠ¸ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ì— ì˜í•´ ìë™ ì¶”ì¶œëœ ë°ì´í„°ì´ë©°, íˆ¬ìì˜ ìµœì¢… ì±…ì„ì€ ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.</p>
    </footer>

    <!-- Auth Modal -->
    <div id="auth-modal"
        class="hidden fixed inset-0 bg-[#0B1021]/80 backdrop-blur-sm z-50 flex items-center justify-center">
        <div class="glass-card p-8 rounded-2xl shadow-2xl w-full max-w-sm border border-indigo-500/20">
            <h2 id="auth-title" class="text-2xl font-bold mb-6 text-white text-center">ë¡œê·¸ì¸</h2>
            <form id="auth-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-slate-300 mb-1">ì•„ì´ë””</label>
                    <input type="text" id="auth-username" required
                        class="block w-full bg-[#151b30] border border-slate-700 rounded-lg shadow-inner py-2.5 px-3 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none transition-colors">
                </div>
                <div>
                    <label class="block text-sm font-medium text-slate-300 mb-1">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="auth-password" required
                        class="block w-full bg-[#151b30] border border-slate-700 rounded-lg shadow-inner py-2.5 px-3 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none transition-colors">
                </div>
                <button type="submit"
                    class="w-full bg-gradient-to-r from-indigo-600 to-indigo-500 text-white font-bold py-3 px-4 rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all duration-300 mt-2"
                    id="auth-submitBtn">ë¡œê·¸ì¸</button>
            </form>
            <div class="mt-5 text-center text-sm">
                <button onclick="toggleAuthMode()" id="auth-toggleBtn"
                    class="text-indigo-400 font-medium hover:text-indigo-300 transition-colors">ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? íšŒì›ê°€ì…</button>
            </div>
            <button onclick="closeAuthModal()"
                class="mt-4 w-full border border-slate-700 text-slate-300 font-bold py-2.5 px-4 rounded-lg hover:bg-slate-800 transition-colors">ë‹«ê¸°</button>
        </div>
    </div>

    <!-- Auth Script -->
    <script>
        let isLoginMode = true;

        function checkAuthState() {
            const token = localStorage.getItem('access_token');
            const username = localStorage.getItem('username');

            if (token && username) {
                document.getElementById('btn-login').classList.add('hidden');
                document.getElementById('btn-logout').classList.remove('hidden');
                const pTag = document.getElementById('user-greeting');
                pTag.textContent = `${username}ë‹˜`;
                pTag.classList.remove('hidden');
                document.getElementById('nav-portfolio').classList.remove('hidden');
                const mobilePortfolio = document.getElementById('nav-portfolio-mobile');
                if (mobilePortfolio) mobilePortfolio.classList.remove('hidden');
            } else {
                document.getElementById('btn-login').classList.remove('hidden');
                document.getElementById('btn-logout').classList.add('hidden');
                document.getElementById('user-greeting').classList.add('hidden');
                document.getElementById('nav-portfolio').classList.add('hidden');
                const mobilePortfolio = document.getElementById('nav-portfolio-mobile');
                if (mobilePortfolio) mobilePortfolio.classList.add('hidden');
            }
        }

        function openAuthModal() {
            document.getElementById('auth-modal').classList.remove('hidden');
        }

        function closeAuthModal() {
            document.getElementById('auth-modal').classList.add('hidden');
            document.getElementById('auth-form').reset();
        }

        function toggleAuthMode() {
            isLoginMode = !isLoginMode;
            document.getElementById('auth-title').innerText = isLoginMode ? 'ë¡œê·¸ì¸' : 'íšŒì›ê°€ì…';
            document.getElementById('auth-submitBtn').innerText = isLoginMode ? 'ë¡œê·¸ì¸' : 'ê°€ì…í•˜ê¸°';
            document.getElementById('auth-toggleBtn').innerText = isLoginMode ? 'ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? íšŒì›ê°€ì…' : 'ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ë¡œê·¸ì¸';
        }

        document.getElementById('auth-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const u = document.getElementById('auth-username').value;
            const p = document.getElementById('auth-password').value;

            if (isLoginMode) {
                // Login
                try {
                    const formData = new URLSearchParams();
                    formData.append('username', u);
                    formData.append('password', p);

                    const res = await fetch('/api/token', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                        body: formData
                    });
                    if (res.ok) {
                        const data = await res.json();
                        localStorage.setItem('access_token', data.access_token);
                        localStorage.setItem('username', u);
                        localStorage.setItem('membership', data.membership);
                        closeAuthModal();
                        checkAuthState();
                        window.location.reload(); // Refresh to apply paywalls
                    } else {
                        alert("ë¡œê·¸ì¸ ì‹¤íŒ¨. ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.");
                    }
                } catch (err) { console.error(err); }
            } else {
                // Register
                try {
                    const res = await fetch('/api/register', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ username: u, password: p })
                    });
                    if (res.ok) {
                        alert("íšŒì›ê°€ì… ì„±ê³µ! ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ë©ë‹ˆë‹¤.");
                        const loginFormData = new URLSearchParams();
                        loginFormData.append('username', u);
                        loginFormData.append('password', p);

                        const loginRes = await fetch('/api/token', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                            body: loginFormData
                        });

                        if (loginRes.ok) {
                            const loginData = await loginRes.json();
                            localStorage.setItem('access_token', loginData.access_token);
                            localStorage.setItem('username', u);
                            localStorage.setItem('membership', loginData.membership);
                            closeAuthModal();
                            checkAuthState();
                            window.location.reload();
                        } else {
                            toggleAuthMode();
                        }
                    } else {
                        const err = await res.json();
                        alert(`íšŒì›ê°€ì… ì‹¤íŒ¨: ${err.detail}`);
                    }
                } catch (err) { console.error(err); }
            }
        });

        function logout() {
            localStorage.removeItem('access_token');
            localStorage.removeItem('username');
            localStorage.removeItem('membership');
            checkAuthState();
            window.location.href = '/';
        }

        // Global Loader Logic with Coin Rain
        function initCoinRain() {
            const container = document.getElementById('coin-rain-container');
            if (!container) return;

            setInterval(() => {
                if (document.getElementById('global-loader').classList.contains('hidden')) return;

                const coin = document.createElement('div');
                coin.className = 'coin';
                coin.innerText = 'â‚©';

                // Randomize position, duration, and delay
                const leftPos = Math.random() * 100;
                const duration = 2 + Math.random() * 3; // 2~5 seconds

                coin.style.left = `${leftPos}%`;
                coin.style.animation = `rainCoins ${duration}s linear forwards`;

                container.appendChild(coin);

                // Remove coin after animation
                setTimeout(() => {
                    coin.remove();
                }, duration * 1000);
            }, 300); // Create a new coin every 300ms
        }

        window.addEventListener('load', () => {
            initCoinRain();
            const loader = document.getElementById('global-loader');
            // Add a slight delay to show the animation (for MVP demonstration)
            setTimeout(() => {
                loader.classList.add('opacity-0');
                setTimeout(() => {
                    loader.classList.add('hidden');
                }, 500);
            }, 800);
        });

        // Show loader on navigation
        document.querySelectorAll('a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                // Ignore clicks that open in new tabs, or anchor links
                if (this.target === '_blank' || this.getAttribute('href').startsWith('#')) return;

                // For internal links
                if (this.getAttribute('href').startsWith('/')) {
                    const loader = document.getElementById('global-loader');
                    loader.classList.remove('hidden');
                    // Force reflow
                    void loader.offsetWidth;
                    loader.classList.remove('opacity-0');
                }
            });
        });

        // Initialize state
        checkAuthState();
    </script>
</body>

</html>